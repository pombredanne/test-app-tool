<html>
  <button id="redirect">Redirect</button>
  <button id="showURL">Show URL</button>
  <p id="textURL">Outer URL will appear here</p>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/easyxdm/2.4.17.1/easyXDM.js"></script> 
<script type="text/javascript">
scraperwiki = { tool: {} }
// This is the provider side of XDM. we think.
scraperwiki.xdm = new easyXDM.Rpc({
  }, {
    remote: {
      // redirect and get URL are the names of methods implemented
      // by custard
      redirect: {},
      getURL: {}
    }
  });
scraperwiki.tool.redirect = function(location) {
  scraperwiki.xdm.redirect(location)
}
scraperwiki.tool.getURL = function(cb) {
  scraperwiki.xdm.getURL(cb)
}

$(function(){
  $('#redirect').on('click', function(){
    scraperwiki.tool.redirect('/')
  });
  $('#showURL').on('click', function(){
    scraperwiki.tool.getURL(function(url){
      $('#textURL').text(url)
    });
  });

})
</script>
</html>
